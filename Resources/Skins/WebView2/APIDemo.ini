[Rainmeter]
Update=1000
BackgroundMode=2
SolidColor=0,0,0,1

[Metadata]
Name=WebView2 API Bridge Demo
Author=nstechbytes
Information=Demonstrates Rainmeter API bridge in JavaScript
Version=0.0.3
License=MIT

[Variables]
ColorPrimary=100,70,255
ColorSecondary=25,25,30
ColorBackground=15,15,20
ColorText=240,240,245
WebWidth=1150
WebHeight=700
HeaderHeight=70
ButtonHeight=36
ButtonRadius=8
Padding=15

; ========================================
; Background
; ========================================
[MeterBackground]
Meter=Shape
X=0
Y=0
Shape=Rectangle 0,0,#WebWidth#,(#WebHeight#+#HeaderHeight#+20),#ButtonRadius# | Fill Color #ColorBackground# | StrokeWidth 0

; ========================================
; Header
; ========================================
[MeterHeader]
Meter=Shape
X=0
Y=0
Shape=Rectangle 0,0,#WebWidth#,#HeaderHeight#,#ButtonRadius#,#ButtonRadius# | Fill LinearGradient MyGradient | StrokeWidth 0
MyGradient=90 | 100,70,255 ; 0.0 | 140,100,255 ; 1.0

[MeterTitle]
Meter=String
X=#Padding#
Y=18
FontFace=Segoe UI
FontSize=16
FontWeight=700
FontColor=255,255,255
AntiAlias=1
Text=Rainmeter API Bridge Demo

[MeterSubtitle]
Meter=String
X=0r
Y=R
FontFace=Segoe UI
FontSize=10
FontColor=230,230,240
AntiAlias=1
Text=Test JavaScript bridge to Rainmeter API

; ========================================
; WebView2 Measure
; ========================================
[MeasureWebView]
Measure=Plugin
Plugin=WebView2
Url=#@#api-demo.html
Width=#WebWidth#
Height=#WebHeight#
X=0
Y=#HeaderHeight#
Visible=1

; ========================================
; Reload Button
; ========================================
[MeterReloadButton]
Meter=Shape
X=(#WebWidth#-120)
Y=17
Shape=Rectangle 0,0,105,#ButtonHeight#,#ButtonRadius# | Fill Color rgba(255,255,255,0.3) | StrokeWidth 1 | Stroke Color white
DynamicVariables=1
MouseOverAction=[!SetOption MeterReloadButton Shape "Rectangle 0,0,105,#ButtonHeight#,#ButtonRadius# | Fill Color white | StrokeWidth 1 | Stroke Color white"][!SetOption MeterReloadText FontColor "#ColorPrimary#"][!UpdateMeter MeterReloadButton][!UpdateMeter MeterReloadText][!Redraw]
MouseLeaveAction=[!SetOption MeterReloadButton Shape "Rectangle 0,0,105,#ButtonHeight#,#ButtonRadius# | Fill Color rgba(255,255,255,0.3) | StrokeWidth 1 | Stroke Color white"][!SetOption MeterReloadText FontColor "255,255,255"][!UpdateMeter MeterReloadButton][!UpdateMeter MeterReloadText][!Redraw]
LeftMouseUpAction=[!CommandMeasure MeasureWebView "Reload"]

[MeterReloadText]
Meter=String
X=(105/2)r
Y=(#ButtonHeight#/2)r
FontFace=Segoe UI
FontSize=10
FontWeight=600
FontColor=255,255,255
StringAlign=CenterCenter
AntiAlias=1
Text=Reload Page

; ========================================
; Instructions
; ========================================
[MeterInstructions]
Meter=String
X=#Padding#
Y=(#HeaderHeight#+#WebHeight#+2)
W=(#WebWidth#-30)
FontFace=Segoe UI
FontSize=9
FontColor=150,150,160
AntiAlias=1
ClipString=1
Text=The page can access Rainmeter API via JavaScript: rm.ReadString(), rm.Execute(), rm.Log(), etc.
